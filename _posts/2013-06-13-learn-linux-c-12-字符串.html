---
layout: default
title: Learn Linux C(13)-字符串
author: zzh 
thisdate: 2013-06-13
classification: Learn-C-从头开始
---
<p id="fortitle"> {{ page.thisdate }} </p>
<h2>字符串</h2>
<pre class="preclass">
    @1：字符串字面量
        1：字符串的十六进制和八进制
            printf("\21hello world \x123abchj\n");
            /* 小心越界 */
        2：字符串的换行
            printf("\21hello world \
\x123abchj\n");
            /* \后面没有任何东西了 亲！ */
            printf("\21hello world "
            "\x123abchj\n");            
        3：存储
            char *存储，以'\0'结尾
        4：操作
            char *p; p="abc"; char ch; ch="abc"[1];
            不推荐 char *p = "abc"; *p = 'b';/* now p is "bbc" */
    @2：字符串变量
        1：惯用方法
            #define N 80
            char str[N + 1];
        2：初始化
            char str[9] = "12345678";
            char str[8] = "12345678"; /* 错误 */
        3：字符数组和字符指针
            char str[9] = "12345678";
            char *str = "12345678";
            差异：
                1：数组的时候可以任意修改，指针则是字面量，不可任意修改
                2：数组的时候是数组名子，至真的时候是指针变量，可以指向其他。
            把指针指向数组
            char str[8] = "1234567";
            char *p;
            p = str; 
    @3：字符串读写
        1: printf and puts
            char str[] = "hello world!"
            printf("the str is start--:%s--over\n", str);
            printf("the str is start--:%-6.5s--over\n", str);
            puts(str);
        2：scanf and gets
            差异：
            1：gets不会跳过空白符
            2：gets换行符停止
            char str[100];
            scanf("%s", str);
            printf("%s", str);

            char strgets[100];
            gets(strgets);
            printf("%s", strgets);
            <pre class="codepre"><code>
            int read_line(char str[], int n){
                char ch;
                int i = 0;
                while ((ch = getchar()) != '\n'){
                    if (i<n)
                        str[i++] = ch;
                }
                str[i] = '\0';
                return i;                
            }
           </code></pre>          
    @4：访问字符串中的字符
        <pre class="codepre"><code>
        #include &lt;stdio.h&gt;
        
        static int count_spaces(const char *s)
        {
        	int count = 0;
        	for(; *s != '\0'; s++)
        	  if(*s == ' ')
        		count++;
        	return count;
        }
        
        int main(void) {
        	char str[100] = "abd bgd d d d d d d d d d";
        	int i;
        	i = count_spaces(str);
        	printf("%d\n", i);
        	return 0;
        }
        </code></pre>
    @5：字符串标准库
        pass
    @6：字符串惯用法
        pass
    @7：字符串数组
        pass
    @8：问与答
        pass
</pre>
